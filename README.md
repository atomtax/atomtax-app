# ì•„í†°ì„¸ë¬´íšŒê³„ - ì›¹ ê´€ë¦¬ ì‹œìŠ¤í…œ

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ì•„í†°ì„¸ë¬´íšŒê³„ì˜ ê³ ê°ì‚¬ ë° ë§¤ë§¤ì‚¬ì—…ì ê´€ë¦¬ë¥¼ ìœ„í•œ í†µí•© ì›¹ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. ê³ ê°ì‚¬ ê´€ë¦¬ (Clients Management)
- âœ… ê¸°ì¥ê³ ê° ëª©ë¡ ì¡°íšŒ ë° ê´€ë¦¬
- âœ… í•´ì„ê³ ê° ë³„ë„ ê´€ë¦¬
- âœ… ê³ ê° ì •ë³´ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ
- âœ… ë²ˆí˜¸ ì¤‘ë³µ ì²´í¬ (í•´ì„ê³ ê° ì œì™¸)
- âœ… ë‹´ë‹¹ìë³„ í•„í„°ë§
- âœ… ì •ë ¬ ë° ê²€ìƒ‰

### 2. ë§¤ë§¤ì‚¬ì—…ì ê´€ë¦¬ (Trader Management)
- âœ… ë¬¼ê±´ ëª©ë¡ ê´€ë¦¬
- âœ… Excel ì¼ê´„ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ
- âœ… ë¬¼ê±´ë³„ í•„ìš”ê²½ë¹„ ìƒì„¸ ê´€ë¦¬
- âœ… ì§„í–‰ ë‹¨ê³„ë³„ ìƒ‰ìƒ í‘œì‹œ (ë¯¸í™•ì¸/í™•ì¸/ìœ„í•˜ê³ ì…ë ¥/ê³ ê°ì•ˆë‚´/ì‹ ê³ ì™„ë£Œ)
- âœ… OCR ì„œë¥˜ ìë™ ì…ë ¥
- âœ… ì…ë ¥ì°¸ê³ ìš© ë³´ê³ ì„œ ìë™ ìƒì„±
- âœ… ì‹ ê³ ê¸°í•œ ìë™ ê³„ì‚°

### 3. ê±´ë¬¼ë¶„ ë¶€ê°€ê°€ì¹˜ì„¸ ê³„ì‚°ê¸° (VAT Calculator)
- âœ… ì£¼ì†Œ ê²€ìƒ‰ (Daum Postcode API)
- âœ… í† ì§€Â·ê±´ë¬¼ ê°€ì•¡ ìë™ ê³„ì‚°
- âœ… ë¶€ê°€ê°€ì¹˜ì„¸ ê³„ì‚°
- âœ… PDF/PNG ë‹¤ìš´ë¡œë“œ ë° ì¸ì‡„
- âœ… ìƒì„¸ ìœ„ì¹˜ ì…ë ¥

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤

### **í˜„ì¬ ìƒíƒœ: Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ** âœ…

#### Supabase (í˜„ì¬ ì‚¬ìš© ì¤‘) â­
- **Provider**: Supabase (PostgreSQL)
- **Project**: https://vdjyynwmnypuxvlhrcbk.supabase.co
- **Services**:
  - Supabase Authentication (Email/Password)
  - PostgreSQL Database (ê´€ê³„í˜• DB)
  - Row Level Security (RLS)
- **ì¥ì **:
  - ğŸ’° ë” ê´€ëŒ€í•œ ë¬´ë£Œ í”Œëœ (500MB DB, ë¬´ì œí•œ API)
  - ğŸ” ê°•ë ¥í•œ SQL ì¿¼ë¦¬ (JOIN, ë³µì¡í•œ ì¿¼ë¦¬ ì§€ì›)
  - ğŸ”“ ì˜¤í”ˆì†ŒìŠ¤ (ìì²´ í˜¸ìŠ¤íŒ… ê°€ëŠ¥)
  - ğŸ“Š ë” ë‚˜ì€ ë°ì´í„° ë¬´ê²°ì„± (Foreign Key, Unique ì œì•½ì¡°ê±´)

#### Firebase (ì´ì „) - ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- **Provider**: Google Firebase
- **Project ID**: atomtax-cffe3
- **ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ ë‚ ì§œ**: 2026-02-16

#### ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼
- âœ… `sql/supabase-schema.sql` - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ (ì‹¤í–‰ ì™„ë£Œ)
- âœ… `js/supabase-config.js` - Supabase ì„¤ì • (API Keys ì…ë ¥ ì™„ë£Œ)
- âœ… `js/supabase-auth.js` - ì¸ì¦ ëª¨ë“ˆ (ì‚¬ìš© ì¤‘)
- âœ… `js/supabase-db.js` - ë°ì´í„°ë² ì´ìŠ¤ API (ì‚¬ìš© ì¤‘)
- âœ… `SUPABASE_MIGRATION_GUIDE.md` - ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

**ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ!** âœ…

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
/
â”œâ”€â”€ index.html                          # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ login.html                          # ë¡œê·¸ì¸ í˜ì´ì§€
â”œâ”€â”€ clients.html                        # ê¸°ì¥ê³ ê° ê´€ë¦¬
â”œâ”€â”€ clients-terminated.html             # í•´ì„ê³ ê° ê´€ë¦¬
â”œâ”€â”€ traders-data.html                   # ë§¤ë§¤ì‚¬ì—…ì ì¼ê´„ ë°ì´í„° ê´€ë¦¬
â”œâ”€â”€ trader-detail.html                  # ë§¤ë§¤ì‚¬ì—…ì ìƒì„¸ ê´€ë¦¬
â”œâ”€â”€ vat-calculator-standalone.html      # ê±´ë¬¼ë¶„ ë¶€ê°€ê°€ì¹˜ì„¸ ê³„ì‚°ê¸°
â”‚
â”œâ”€â”€ sql/
â”‚   â””â”€â”€ supabase-schema.sql            # Supabase DB ìŠ¤í‚¤ë§ˆ
â”‚
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ supabase-config.js             # Supabase ì„¤ì • (í˜„ì¬ ì‚¬ìš©)
â”‚   â”œâ”€â”€ supabase-auth.js               # Supabase ì¸ì¦ (í˜„ì¬ ì‚¬ìš©)
â”‚   â”œâ”€â”€ supabase-db.js                 # Supabase DB API (í˜„ì¬ ì‚¬ìš©)
â”‚   â”‚
â”‚   â”œâ”€â”€ firebase-config.js             # Firebase ì„¤ì • (ë ˆê±°ì‹œ)
â”‚   â”œâ”€â”€ firebase-auth.js               # Firebase ì¸ì¦ (ë ˆê±°ì‹œ)
â”‚   â”œâ”€â”€ firebase-db.js                 # Firebase DB API (ë ˆê±°ì‹œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ clients.js                     # ê³ ê°ì‚¬ ê´€ë¦¬ ë¡œì§
â”‚   â”œâ”€â”€ trader-detail.js               # ë§¤ë§¤ì‚¬ì—…ì ìƒì„¸ ë¡œì§
â”‚   â”œâ”€â”€ common.js                      # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ data-migration.js              # ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬
â”‚
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ style.css                      # ë©”ì¸ ìŠ¤íƒ€ì¼
â”‚   â””â”€â”€ trader-detail.css              # ë§¤ë§¤ì‚¬ì—…ì í˜ì´ì§€ ìŠ¤íƒ€ì¼
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ SUPABASE_MIGRATION_GUIDE.md    # Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ
    â”œâ”€â”€ CLIENT_MANAGEMENT_UPDATE.md    # ê³ ê°ì‚¬ ê´€ë¦¬ ì—…ë°ì´íŠ¸
    â”œâ”€â”€ REFERENCE_DATA_FEATURE.md      # ì…ë ¥ì°¸ê³ ìš© ê¸°ëŠ¥
    â””â”€â”€ VAT_CALCULATOR_UPDATE.md       # ë¶€ê°€ì„¸ ê³„ì‚°ê¸° ì—…ë°ì´íŠ¸
```

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. ë¡œì»¬ ê°œë°œ í™˜ê²½

**í•„ìˆ˜ ìš”êµ¬ì‚¬í•­:**
- ì›¹ ë¸Œë¼ìš°ì € (Chrome, Firefox, Edge ë“±)
- ë¡œì»¬ ì›¹ ì„œë²„ (Live Server, http-server ë“±)

**ì‹¤í–‰ ë°©ë²•:**
```bash
# VS Code Live Server ì‚¬ìš©
1. VS Codeì—ì„œ í”„ë¡œì íŠ¸ ì—´ê¸°
2. index.html ìš°í´ë¦­ â†’ "Open with Live Server"

# ë˜ëŠ” http-server ì‚¬ìš©
npm install -g http-server
http-server -p 8080
```

### 2. ë¡œê·¸ì¸

**ê¸°ë³¸ ê³„ì •:**
- Email: `mail@atomtax.co.kr`
- Password: (Firebase Authì— ë“±ë¡ëœ ë¹„ë°€ë²ˆí˜¸)

### 3. ë°ì´í„° ë°±ì—… (ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ í•„ìˆ˜)

Firebase ë°ì´í„°ë¥¼ ë°±ì—…í•˜ë ¤ë©´:
```javascript
// ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‹¤í–‰
await backupAllData();
// â†’ firebase_backup_YYYY-MM-DD.json ë‹¤ìš´ë¡œë“œë¨
```

---

## ğŸ“Š ë°ì´í„° ëª¨ë¸

### Firebase Firestore (í˜„ì¬)

#### Collections

**1. users**
```javascript
{
  uid: string,
  email: string,
  name: string,
  role: string,
  createdAt: timestamp,
  updatedAt: timestamp
}
```

**2. clients**
```javascript
{
  id: string,
  number: string,
  company_name: string,
  business_number: string,
  representative: string,
  manager: string,
  phone: string,
  address: string,
  business_type: string,
  business_item: string,
  start_date: date,
  end_date: date,
  contract_amount: number,
  supply_amount: number,
  tax_amount: number,
  is_terminated: boolean,
  termination_date: date,
  notes: string,
  createdAt: timestamp,
  updatedAt: timestamp
}
```

**3. trader_inventory (ì¼ë¶€ëŠ” localStorage)**
```javascript
// LocalStorage: trader_inventory_{clientId}
{
  property_name: string,
  address: string,
  detailed_address: string,
  land_area: number,
  building_area: number,
  acquisition_value: number,
  other_expenses: number,
  transfer_value: number,
  transfer_income: number,
  disposal_cost: number,
  acquisition_date: date,
  transfer_date: date,
  report_deadline: date,
  prepaid_income_tax: number,
  prepaid_local_tax: number,
  over_85: string,
  progress_stage: string,
  remarks: string,
  expenses: [
    {
      no: number,
      expense_name: string,
      category: string,
      amount: number,
      cost_approved: string,
      note: string
    }
  ]
}
```

### Supabase PostgreSQL (ë§ˆì´ê·¸ë ˆì´ì…˜ ëŒ€ìƒ)

ìì„¸í•œ ìŠ¤í‚¤ë§ˆëŠ” `sql/supabase-schema.sql` ì°¸ê³ 

**í…Œì´ë¸”:**
- users
- clients (Foreign Key, Unique constraints)
- trader_inventory (clientsì™€ JOIN)
- expenses (trader_inventoryì™€ JOIN)
- documents (ì„œë¥˜ ì—…ë¡œë“œ)

---

## ğŸ” ì¸ì¦ ë° ë³´ì•ˆ

### í˜„ì¬ (Firebase)
- Firebase Authentication (Email/Password)
- Firestore Security Rules

### ë§ˆì´ê·¸ë ˆì´ì…˜ í›„ (Supabase)
- Supabase Auth (Email/Password)
- Row Level Security (RLS) Policies
- ë” ì„¸ë°€í•œ ê¶Œí•œ ê´€ë¦¬

---

## ğŸ“ˆ ìµœê·¼ ì—…ë°ì´íŠ¸

### 2026-02-16 â­ **Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ**
- âœ… Firebase â†’ Supabase ì™„ì „ ì „í™˜
  - PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìƒì„±
  - Supabase Auth ì„¤ì • ì™„ë£Œ
  - HTML íŒŒì¼ SDK êµì²´ (6ê°œ íŒŒì¼)
  - JavaScript ëª¨ë“ˆ ì—…ë°ì´íŠ¸
  - ê´€ë¦¬ì ê³„ì • ìƒì„± (mail@atomtax.co.kr)
- âœ… í”„ë¡œì íŠ¸ URL: https://vdjyynwmnypuxvlhrcbk.supabase.co
- âœ… 5ê°œ í…Œì´ë¸” ìƒì„±: users, clients, trader_inventory, expenses, documents
- âœ… Row Level Security (RLS) ì •ì±… ì ìš©

### 2026-02-15
- âœ… Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤€ë¹„
  - ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° SQL íŒŒì¼ ì‘ì„±
  - Supabase ì„¤ì •Â·ì¸ì¦Â·DB ëª¨ë“ˆ ì‘ì„±
  - ìƒì„¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ì‘ì„±
- âœ… ê³ ê°ì‚¬ ê´€ë¦¬ ê°œì„ 
  - ëª¨ë‹¬ ë°±ê·¸ë¼ìš´ë“œ í´ë¦­ ë°©ì§€
  - ë²ˆí˜¸ ì¤‘ë³µ ì²´í¬ (í•´ì„ê³ ê° ì œì™¸)
- âœ… ë§¤ë§¤ì‚¬ì—…ì ê¸°ëŠ¥ ì¶”ê°€
  - Excel ì—…ë¡œë“œ ì‹œ ê¸°ì¡´ ë°ì´í„° ë³´ì¡´
  - ê¸°ë‚©ë¶€ ì¢…ì†Œì„¸Â·ì§€ë°©ì†Œë“ì„¸ ì¶”ê°€
  - ì…ë ¥ì°¸ê³ ìš© ë³´ê³ ì„œ ìë™ ìƒì„±
- âœ… ê±´ë¬¼ë¶„ ë¶€ê°€ì„¸ ê³„ì‚°ê¸° ì—…ë°ì´íŠ¸
  - ìƒì„¸ ìœ„ì¹˜ ì…ë ¥ í•„ë“œ ì¶”ê°€
  - ê±´ë¬¼ê¸°ì¤€ì‹œê°€ ì „ì²´ ê¸ˆì•¡ ì…ë ¥ ë°©ì‹ìœ¼ë¡œ ë³€ê²½
  - PNG ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ ì¶”ê°€

### 2026-02-14
- âœ… í•„ìš”ê²½ë¹„ ìƒì„¸ ì¤„ë³„ ì‚­ì œ ê¸°ëŠ¥
- âœ… ì§„í–‰ ë‹¨ê³„ë³„ ìƒ‰ìƒ í‘œì‹œ
- âœ… ë¹„ìš©ëª… ë“œë¡­ë°•ìŠ¤ ë³€ê²½
- âœ… OCR ì„œë¥˜ ì—…ë¡œë“œ ê°œì„ 

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- HTML5, CSS3, JavaScript (Vanilla JS)
- Font Awesome (ì•„ì´ì½˜)
- Google Fonts (íƒ€ì´í¬ê·¸ë˜í”¼)
- Daum Postcode API (ì£¼ì†Œ ê²€ìƒ‰)
- SheetJS (XLSX) (Excel ì²˜ë¦¬)
- html2canvas (ì´ë¯¸ì§€ ìº¡ì²˜)
- jsPDF (PDF ìƒì„±)

### Backend (Database)
- **í˜„ì¬**: Supabase (PostgreSQL, Auth, RLS)
- **ì´ì „**: Google Firebase (Firestore, Auth) - ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ

### CDN Libraries
```html
<!-- Supabase SDK (í˜„ì¬ ì‚¬ìš©) -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- Other Libraries -->
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
```

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

### ì™„ë£Œëœ ë§ˆì´ê·¸ë ˆì´ì…˜ ë‹¨ê³„ âœ…
1. âœ… Supabase í”„ë¡œì íŠ¸ ìƒì„±
2. âœ… ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì‹¤í–‰
3. âœ… ê´€ë¦¬ì ê³„ì • ìƒì„±
4. âœ… HTML/JS ì½”ë“œ Supabaseë¡œ ì „í™˜
5. âœ… í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### ê¶Œì¥ ë‹¤ìŒ ì‘ì—…
- [ ] ì‹¤ì œ ê³ ê° ë°ì´í„° ì…ë ¥ ë° í…ŒìŠ¤íŠ¸
- [ ] ì„œë¥˜ ì—…ë¡œë“œ ê¸°ëŠ¥ Supabase Storage ì—°ë™
- [ ] ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥ (Supabase Realtime)
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• ìµœì í™”
- [ ] ë‹¤í¬ ëª¨ë“œ

---

## ğŸ“ ë¬¸ì œ í•´ê²°

### Firebase ì—°ê²° ì‹¤íŒ¨
- Firebase ì„¤ì • í™•ì¸: `js/firebase-config.js`
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
- Firebase Consoleì—ì„œ í”„ë¡œì íŠ¸ ìƒíƒœ í™•ì¸

### LocalStorage ë°ì´í„° ì†ì‹¤
- ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ ì‹œ ë°ì´í„° ì†ì‹¤ ê°€ëŠ¥
- **í•´ê²°ì±…**: Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ì˜êµ¬ ì €ì¥

### Excel ì—…ë¡œë“œ ì‹¤íŒ¨
- íŒŒì¼ í˜•ì‹ í™•ì¸ (.xlsx)
- ì–‘ì‹ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸
- ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸

---

## ğŸ”— ìœ ìš©í•œ ë§í¬

- [Supabase Dashboard](https://supabase.com/dashboard)
- [Firebase Console](https://console.firebase.google.com)
- [ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ](./SUPABASE_MIGRATION_GUIDE.md)
- [Daum Postcode API](https://postcode.map.daum.net/guide)

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” ì•„í†°ì„¸ë¬´íšŒê³„ì˜ ë‚´ë¶€ ì‚¬ìš©ì„ ìœ„í•´ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.

---

**ì œì‘:** Claude AI + ì•„í†°ì„¸ë¬´íšŒê³„  
**ìµœì¢… ì—…ë°ì´íŠ¸:** 2026-02-15  
**ë²„ì „:** 2.0.0 (Supabase Migration Ready)
