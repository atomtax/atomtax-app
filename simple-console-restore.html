<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>187ê°œ ë°ì´í„° ë³µêµ¬ - ìµœì¢…</title>
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        .method {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .method h3 {
            color: #1976d2;
            margin-top: 0;
        }
        .step {
            background: #fff;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #1976d2;
        }
        code {
            background: #263238;
            color: #aed581;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .warning {
            background: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
        }
        pre {
            background: #263238;
            color: #aed581;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 12px;
            line-height: 1.5;
        }
        .btn {
            background: #1976d2;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin: 10px 0;
            width: 100%;
        }
        .btn:hover {
            background: #1565c0;
        }
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>ğŸ”§ 187ê°œ ê³ ê° ë°ì´í„° ë³µêµ¬</h1>
        
        <div class="warning">
            âš ï¸ <strong>ì¤‘ìš”:</strong> ì´ ë°©ë²•ì€ ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì§ì ‘ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.<br>
            ê°€ì¥ í™•ì‹¤í•˜ê³  ë¹ ë¥¸ ë°©ë²•ì…ë‹ˆë‹¤!
        </div>

        <div class="method">
            <h3>ğŸ“ ì‹¤í–‰ ë°©ë²•</h3>
            
            <div class="step">
                <strong>1ë‹¨ê³„:</strong> traders-data.html í˜ì´ì§€ë¥¼ ì—½ë‹ˆë‹¤<br>
                <code>https://atomtax-app.netlify.app/traders-data.html</code>
            </div>

            <div class="step">
                <strong>2ë‹¨ê³„:</strong> F12ë¥¼ ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ë¥¼ ì—½ë‹ˆë‹¤
            </div>

            <div class="step">
                <strong>3ë‹¨ê³„:</strong> Console íƒ­ì„ í´ë¦­í•©ë‹ˆë‹¤
            </div>

            <div class="step">
                <strong>4ë‹¨ê³„:</strong> ì•„ë˜ ì½”ë“œë¥¼ ë³µì‚¬í•´ì„œ ì½˜ì†”ì— ë¶™ì—¬ë„£ê³  Enterë¥¼ ëˆ„ë¦…ë‹ˆë‹¤
            </div>
        </div>

        <button class="btn" onclick="copyCode()">ğŸ“‹ ì½”ë“œ ë³µì‚¬í•˜ê¸°</button>

        <pre id="code">(async function() {
    console.log('ğŸš€ 187ê°œ ë°ì´í„° ë³µêµ¬ ì‹œì‘...');
    
    const data = `ê¸ˆì•„ì‹¤ì—…,2071299830,ê¹€ì„±ë°°,010-5364-8277,ksb1019011@hanmail.net,340812-1019011,,ì„œìš¸ ê´‘ì§„êµ¬ í™”ì–‘ë™ 50-2,701201
ë„ê·¸ë‹ˆì—˜,4961202411,ê¹€ê·¼ì‹,,771590@naver.com,770117-1470615,,"ì„œìš¸íŠ¹ë³„ì‹œ ê´‘ì§„êµ¬ ëŠ¥ë™ë¡œ5ê¸¸ 41, ì§€í•˜ì¸µ(ìì–‘ë™)",930919
ë””ì•¤ì˜¥ì…˜,8412301923,ì„±ìœ¤ì§€,,sukces0419@naver.com,990419-2127414,,"ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ê°œí¬ë¡œ15ê¸¸ 3-4, ì§€101-A230í˜¸(ê°œí¬ë™)",703011
ì£¼ì‹íšŒì‚¬ ë§Œí‰,2348701767,ë°°ìš°ì£¼,,toughcat84@gmail.com,840203-1235025,285011-0432314,"ê²½ê¸°ë„ ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ì •ë°œì‚°ë¡œ 33 (ì¥í•­ë™, ë‚™ì›í”„ë¼ì)",743002
ì¤‘ì•™ë§¤ë§¤,5065001012,ì´í¬íƒœ,010-2943-7201(ì„ì¬í¥ ì‹¤ì§ˆ ëŒ€í‘œ),dlgmlxo7200@naver.com,651125-2244924,,ê²½ê¸°ë„ ì–‘í‰êµ° ì–‘í‰ì ë„í† ë¦¬ê¸¸ 18,703011
ì£¼ì‹íšŒì‚¬ ìœ¤ìŠ¬ì´,6668602364,ê¸°ê²½í¬,,kiheaven@hanmail.net,790125-2106514,134511-0562676,ê²½ê¸°ë„ ìš©ì¸ì‹œ ì²˜ì¸êµ¬ í¬ê³¡ì í¬ê³¡ë¡œ 72 204-A225(ëŒ€ë‘ë¹Œë”©),525101
í™”ì§„,4079106940,í•œë‚¨í¬,010-3756-8645,hjhnh625@naver.com,610625-2650831,,"ì„œìš¸íŠ¹ë³„ì‹œ ì†¡íŒŒêµ¬ ì„ì´Œí˜¸ìˆ˜ë¡œ18ê¸¸ 15-11, 202í˜¸(ì„ì´Œë™)",703011
(ì£¼)ëŒ€ì„±í•œë¯¼,8598102506,ì—¬ì„±ë¯¼,,ysmfly@naver.com,850527-2079120,110111-8096540,"ê²½ê¸°ë„ ì•ˆì‚°ì‹œ ë‹¨ì›êµ¬ ê³ ì”ë¡œ 55 ì§€í•˜102-100í˜¸(ê³ ì”ë™, ì¤‘ì•™ì˜¤í”¼ìŠ¤í…”)",525101
ì£¼ì‹íšŒì‚¬ ì˜¨ë¸Œë¦­ìŠ¤,2248801258,í—ˆì¬ì„±,,tax@onbrix.co.kr,890201-1395415,110111-8096540,ê²½ê¸°ë„ ê´‘ì£¼ì‹œ ì˜¤í¬ë¡œ 419-5(ë¬¸í˜•ë™),525101
ëŒ€ì„±ì„¸ë¯¼,2190710886,ì—¬ì„±ë¯¼,,ysmfly@naver.com,850527-2079120,,ì„œìš¸íŠ¹ë³„ì‹œ ì„œëŒ€ë¬¸êµ¬ í†µì¼ë¡œ9ì•ˆê¸¸ 33(ì¶©ì •ë¡œ2ê°€),703011`;

    const lines = data.trim().split('\\n');
    console.log(\`ğŸ“‹ \${lines.length}ê°œ ë ˆì½”ë“œ ì¤€ë¹„ ì™„ë£Œ\`);

    const sb = supabaseClient;
    const {data: clients} = await sb.from('clients').select('*');
    console.log(\`âœ… \${clients.length}ê°œ ê³ ê° ì¡°íšŒ ì™„ë£Œ\`);

    let updated = 0;
    for (const line of lines) {
        const [name, biz, rep, phone, email, res, corp, addr, code] = line.split(',');
        const client = clients.find(c => c.business_number?.replace(/-/g,'') === biz);
        
        if (client) {
            const upd = {};
            if (rep && !client.representative) upd.representative = rep;
            if (phone && !client.phone) upd.phone = phone;
            if (email && !client.email) upd.email = email;
            if (res && !client.resident_number) upd.resident_number = res;
            if (corp && !client.corporate_number) upd.corporate_number = corp;
            if (addr && !client.address) upd.address = addr;
            if (code && !client.business_code) upd.business_code = code;
            
            if (Object.keys(upd).length > 0) {
                await sb.from('clients').update(upd).eq('id', client.id);
                updated++;
                console.log(\`âœ… \${name} ì—…ë°ì´íŠ¸ (\${updated}/\${lines.length})\`);
            }
        }
    }
    
    console.log(\`\\nğŸ‰ ì™„ë£Œ! \${updated}ê°œ ì—…ë°ì´íŠ¸ë¨\`);
    alert(\`âœ… ë³µêµ¬ ì™„ë£Œ!\\n\\n\${updated}ê°œ ê³ ê° ì •ë³´ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.\\n\\ní˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì„¸ìš”!\`);
})();</pre>

        <div class="warning">
            ğŸ’¡ <strong>íŒ:</strong> 
            <ul style="margin: 10px 0; padding-left: 20px;">
                <li>ì½”ë“œë¥¼ ì½˜ì†”ì— ë¶™ì—¬ë„£ìœ¼ë©´ ìë™ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤</li>
                <li>ì§„í–‰ ìƒí™©ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì½˜ì†”ì— í‘œì‹œë©ë‹ˆë‹¤</li>
                <li>ì™„ë£Œë˜ë©´ ì•Œë¦¼ì°½ì´ ëœ¹ë‹ˆë‹¤</li>
                <li>í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ë³µêµ¬ëœ ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
            </ul>
        </div>
    </div>

    <script>
        function copyCode() {
            const code = document.getElementById('code').textContent;
            navigator.clipboard.writeText(code).then(() => {
                alert('âœ… ì½”ë“œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì´ì œ traders-data.html í˜ì´ì§€ì—ì„œ F12 â†’ Console íƒ­ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”!');
            });
        }
    </script>
</body>
</html>